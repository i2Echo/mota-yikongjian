function maps(){}maps.prototype.init=function(){var l=[[[6,6,6,6,6,6,6,6,6,6,6,6,6],[6,0,0,0,0,0,0,0,0,0,0,0,6],[6,0,0,0,0,0,0,0,0,0,0,0,6],[6,0,0,0,0,0,0,0,0,0,0,0,6],[6,0,0,0,0,0,0,0,0,0,0,0,6],[6,0,0,0,0,0,0,0,0,0,0,0,6],[6,0,0,0,0,0,43,0,0,0,0,0,6],[6,0,0,0,0,0,0,0,0,0,0,0,6],[6,0,0,0,0,0,0,0,0,0,0,0,6],[6,0,0,0,0,0,0,0,0,0,0,0,6],[6,0,0,0,0,0,0,0,0,0,0,0,6],[6,0,0,0,0,0,87,0,0,0,0,0,6],[6,6,6,6,6,6,6,6,6,6,6,6,6]],[[6,6,6,6,6,6,6,6,6,6,6,6,6],[6,87,0,101,102,101,0,0,0,0,0,0,6],[6,1,1,1,1,1,1,1,1,1,1,0,6],[6,18,0,105,81,0,1,12,19,15,1,0,6],[6,15,113,12,1,0,1,1,82,1,1,0,6],[6,1,81,1,1,0,1,0,105,0,1,101,6],[6,0,113,0,1,0,1,15,102,15,1,0,6],[6,15,113,11,1,0,1,1,81,1,1,0,6],[6,1,81,1,1,0,0,0,0,0,0,0,6],[6,12,114,11,1,1,81,1,1,1,83,1,6],[6,0,18,0,1,15,15,16,1,16,113,16,6],[6,15,35,16,1,32,0,33,1,15,15,15,6],[6,6,6,6,6,6,6,6,6,6,6,6,6]],[[6,6,6,6,6,6,6,6,6,6,6,6,6],[6,88,1,117,19,19,19,0,19,19,19,117,6],[6,0,1,0,1,1,1,81,1,1,1,0,6],[6,0,1,12,1,1,0,0,0,1,1,11,6],[6,0,1,0,1,1,0,0,0,1,1,0,6],[6,0,1,118,1,1,0,143,0,1,1,118,6],[6,0,1,141,37,1,1,83,1,1,38,141,6],[6,0,1,12,1,1,1,11,1,1,1,11,6],[6,0,1,1,1,1,12,12,12,1,1,1,6],[6,0,1,0,1,19,110,16,110,15,0,117,6],[6,0,81,110,1,1,1,1,1,1,1,81,6],[6,87,1,0,0,0,18,18,18,0,0,0,6],[6,6,6,6,6,6,6,6,6,6,6,6,6]],[[6,6,6,6,6,6,6,6,6,6,6,6,6],[6,15,113,16,1,113,71,113,1,11,18,101,6],[6,105,1,105,1,12,113,11,1,18,101,0,6],[6,0,1,0,1,1,82,1,1,101,113,19,6],[6,0,81,0,15,15,0,0,1,1,81,1,6],[6,101,1,81,1,1,1,0,1,0,0,0,6],[6,102,1,0,1,0,81,0,1,0,1,0,6],[6,101,1,0,102,0,1,101,1,17,1,0,6],[6,0,1,1,1,81,1,113,1,15,1,113,6],[6,0,0,0,1,105,1,101,1,15,1,0,6],[6,1,1,0,1,0,1,0,1,0,1,0,6],[6,88,0,0,1,0,102,0,105,0,1,87,6],[6,6,6,6,6,6,6,6,6,6,6,6,6]],[[6,6,6,6,6,6,6,6,6,6,6,6,6],[6,0,0,0,0,114,105,105,0,0,0,87,6],[6,15,1,1,1,1,1,1,1,1,1,1,6],[6,0,0,0,0,18,0,109,0,0,81,0,6],[6,1,1,1,1,1,1,1,1,1,1,0,6],[6,1,117,15,1,11,18,1,12,15,1,114,6],[6,1,47,117,81,0,110,82,19,109,81,0,6],[6,1,117,15,1,11,19,1,12,15,1,113,6],[6,1,1,1,1,1,1,1,1,1,1,0,6],[6,0,0,0,0,18,0,109,0,0,81,0,6],[6,15,1,1,1,1,1,1,1,1,1,1,6],[6,0,0,0,0,113,105,105,0,0,0,88,6],[6,6,6,6,6,6,6,6,6,6,6,6,6]],[[6,6,6,6,6,6,6,6,6,6,6,6,6],[6,22,1,118,81,0,72,0,82,0,81,88,6],[6,0,1,0,1,0,0,0,1,113,1,0,6],[6,110,1,110,1,1,110,1,1,19,1,0,6],[6,0,0,0,1,16,114,15,1,12,1,0,6],[6,1,83,1,1,1,81,1,1,1,1,0,6],[6,0,0,0,114,0,0,81,0,0,0,0,6],[6,1,81,1,1,1,114,1,110,1,1,1,6],[6,19,117,19,1,0,0,1,0,11,11,0,6],[6,15,15,15,1,0,1,1,1,1,1,0,6],[6,1,1,1,1,81,1,15,1,15,1,0,6],[6,87,117,0,7,0,114,18,110,18,114,0,6],[6,6,6,6,6,6,6,6,6,6,6,6,6]],[[6,6,6,6,6,6,6,6,6,6,6,6,6],[6,19,19,19,1,118,34,118,1,12,12,12,6],[6,18,18,18,1,0,117,0,1,11,11,11,6],[6,1,81,1,1,1,82,1,1,1,81,1,6],[6,114,0,0,110,81,117,81,110,0,0,114,6],[6,1,1,7,1,1,1,1,1,7,1,1,6],[6,18,1,110,1,17,16,15,1,110,1,19,6],[6,114,81,0,1,1,82,1,1,0,81,114,6],[6,11,1,109,1,19,114,19,1,109,1,12,6],[6,11,1,110,1,1,81,1,1,110,1,12,6],[6,1,1,109,1,18,0,73,1,109,1,1,6],[6,88,81,0,0,0,114,0,0,0,81,87,6],[6,6,6,6,6,6,6,6,6,6,6,6,6]],[[6,6,6,6,6,6,6,6,6,6,6,6,6],[6,23,7,7,7,0,16,0,83,18,118,18,6],[6,1,1,1,1,117,1,117,1,117,18,117,6],[6,0,1,0,1,117,1,19,1,1,81,1,6],[6,118,0,117,0,12,1,11,1,15,19,19,6],[6,1,1,1,81,1,1,1,1,15,1,81,6],[6,11,0,0,118,0,1,0,81,0,1,117,6],[6,11,1,117,19,117,19,117,1,117,1,117,6],[6,11,1,1,1,1,1,1,1,117,1,46,6],[6,0,0,117,12,117,0,0,1,81,1,1,6],[6,1,81,1,1,1,1,7,1,117,0,0,6],[6,87,118,117,11,117,0,0,1,0,0,88,6],[6,6,6,6,6,6,6,6,6,6,6,6,6]],[[6,6,6,6,6,6,6,6,6,6,6,6,6],[6,120,0,120,0,0,0,0,0,81,0,87,6],[6,0,81,6,6,6,6,6,6,6,0,0,6],[6,120,6,6,12,12,6,11,11,6,6,82,6],[6,0,6,12,12,12,6,11,11,11,6,0,6],[6,0,6,12,12,12,6,11,11,11,6,0,6],[6,0,6,6,6,6,6,6,6,6,6,0,6],[6,0,6,19,19,19,6,15,15,15,6,0,6],[6,0,6,19,19,19,6,16,16,16,6,0,6],[6,81,6,6,19,19,6,17,17,6,6,118,6],[6,0,51,6,6,6,6,6,6,6,81,0,6],[6,88,0,81,0,0,0,0,0,118,0,120,6],[6,6,6,6,6,6,6,6,6,6,6,6,6]],[[6,6,6,6,6,6,6,6,6,6,6,6,6],[6,25,7,0,1,0,1,0,0,0,0,88,6],[6,7,120,124,83,15,1,124,1,1,1,1,6],[6,1,81,1,1,15,1,12,1,19,12,11,6],[6,19,19,19,1,124,1,118,1,0,118,0,6],[6,124,0,124,1,15,1,12,1,118,124,118,6],[6,1,82,1,1,15,1,118,1,1,81,1,6],[6,118,0,118,120,0,1,0,118,18,18,18,6],[6,1,81,1,1,0,81,0,1,1,81,1,6],[6,18,0,0,1,1,81,1,1,0,120,0,6],[6,1,1,118,1,118,0,118,1,81,1,81,6],[6,87,120,0,82,0,1,46,1,12,1,11,6],[6,6,6,6,6,6,6,6,6,6,6,6,6]],[[6,6,6,6,6,6,6,6,6,6,6,6,6],[6,12,1,11,1,19,1,16,1,17,1,15,6],[6,12,1,11,1,19,1,16,1,17,1,15,6],[6,81,1,81,1,81,1,81,1,81,1,81,6],[6,119,0,119,0,119,1,124,0,124,0,124,6],[6,81,1,82,1,1,1,1,1,82,1,81,6],[6,18,1,0,120,145,119,145,120,0,1,18,6],[6,18,1,0,1,1,1,1,1,0,1,18,6],[6,1,1,145,1,120,74,120,1,145,1,1,6],[6,19,120,0,1,0,145,0,1,0,120,19,6],[6,1,83,1,1,15,15,15,1,1,83,1,6],[6,88,0,0,120,0,145,0,120,0,0,87,6],[6,6,6,6,6,6,6,6,6,6,6,6,6]],[[6,6,6,6,6,6,6,6,6,6,6,6,6],[6,1,1,1,1,1,1,1,1,1,1,1,6],[6,1,1,1,1,1,1,1,1,1,1,1,6],[6,1,1,1,1,1,1,1,1,1,1,1,6],[6,1,1,1,1,1,1,1,1,1,1,1,6],[6,1,1,1,1,1,24,1,1,1,1,1,6],[6,1,1,1,1,1,1,1,1,1,1,1,6],[6,1,1,1,1,1,1,1,1,1,1,1,6],[6,1,1,1,1,1,1,1,1,1,1,1,6],[6,1,1,1,1,1,1,1,1,1,1,1,6],[6,6,6,6,6,6,6,6,6,6,6,6,6],[6,87,0,145,46,145,119,145,46,145,0,88,6],[6,6,6,6,6,6,6,6,6,6,6,6,6]],[[6,6,6,6,6,6,6,6,6,6,6,6,6],[6,19,1,1,1,1,0,0,0,0,0,87,6],[6,0,1,0,0,127,0,1,1,1,1,0,6],[6,0,1,0,1,1,0,1,12,12,1,0,6],[6,0,1,0,43,1,0,1,12,12,1,0,6],[6,119,1,1,1,1,119,1,1,1,1,119,6],[6,0,0,0,0,145,0,145,0,0,0,0,6],[6,126,1,1,1,1,126,1,1,1,1,126,6],[6,0,1,11,11,1,0,1,47,0,141,0,6],[6,0,1,11,11,1,0,1,1,1,1,0,6],[6,0,1,1,1,1,0,1,0,0,0,0,6],[6,88,0,0,0,0,0,1,0,0,0,19,6],[6,6,6,6,6,6,6,6,6,6,6,6,6]],[[6,6,6,6,6,6,6,6,6,6,6,6,6],[6,87,0,126,0,0,82,0,0,126,0,88,6],[6,0,0,1,1,1,1,1,1,1,0,0,6],[6,126,1,1,15,1,0,1,19,1,1,126,6],[6,0,1,36,15,1,0,1,19,19,1,0,6],[6,127,1,15,126,1,0,1,126,19,1,127,6],[6,0,1,126,127,82,128,82,127,126,1,0,6],[6,127,1,12,126,1,0,1,126,11,1,127,6],[6,0,1,12,12,1,0,1,11,11,1,0,6],[6,127,1,1,12,1,0,1,11,1,1,127,6],[6,0,0,1,1,1,83,1,1,1,0,0,6],[6,0,0,128,0,128,0,128,0,128,0,0,6],[6,6,6,6,6,6,6,6,6,6,6,6,6]],[[6,6,6,6,6,6,6,6,6,6,6,6,6],[6,88,0,0,0,0,0,0,0,0,0,0,6],[6,0,0,0,0,0,0,0,0,0,0,0,6],[6,0,0,0,0,0,0,0,0,0,0,0,6],[6,0,0,0,0,1,1,1,0,0,0,0,6],[6,0,0,0,1,1,18,1,1,0,0,0,6],[6,0,0,0,1,18,31,18,1,0,0,0,6],[6,0,0,0,1,1,18,1,1,0,0,0,6],[6,0,0,0,0,1,85,1,0,0,0,0,6],[6,0,0,0,0,141,0,141,0,0,0,0,6],[6,0,0,0,0,0,0,0,0,0,0,0,6],[6,0,0,0,0,0,0,0,0,0,0,87,6],[6,6,6,6,6,6,6,6,6,6,6,6,6]],[[6,6,6,6,6,6,6,6,6,6,6,6,6],[6,53,6,18,1,19,1,12,12,12,1,87,6],[6,0,1,131,1,126,1,12,128,12,1,0,6],[6,141,82,0,1,81,1,1,81,1,1,0,6],[6,1,1,0,0,0,0,0,0,0,1,0,6],[6,19,18,1,127,1,126,1,1,0,1,0,6],[6,19,18,18,1,75,0,1,52,127,83,0,6],[6,19,18,1,127,1,126,1,1,0,1,0,6],[6,1,1,0,0,0,0,0,0,0,1,0,6],[6,0,82,0,1,81,1,1,81,1,1,0,6],[6,43,1,131,1,126,1,11,128,11,1,0,6],[6,44,6,18,1,19,1,11,11,11,1,88,6],[6,6,6,6,6,6,6,6,6,6,6,6,6]],[[4,4,4,4,6,6,6,6,6,6,6,6,6],[4,4,4,4,6,0,0,0,0,0,0,88,6],[4,4,4,4,6,6,0,6,6,6,6,6,6],[4,4,4,4,4,6,0,6,4,4,4,4,4],[4,4,4,4,4,6,0,6,4,4,4,4,4],[4,4,4,4,4,6,0,6,4,4,4,4,4],[4,4,4,4,4,6,108,6,4,4,4,4,4],[4,4,4,4,4,6,0,6,4,4,4,4,4],[4,4,4,4,4,6,87,6,4,4,4,4,4],[4,4,4,4,4,6,6,6,4,4,4,4,4],[4,4,4,4,4,4,4,4,4,4,4,4,4],[4,4,4,4,4,4,4,4,4,4,4,4,4],[4,4,4,4,4,4,4,4,4,4,4,4,4]],[[6,6,6,6,6,6,6,6,6,6,6,6,6],[6,1,131,128,0,0,0,0,0,0,0,131,6],[6,1,128,1,1,1,1,1,1,1,1,0,6],[6,1,0,1,131,0,0,0,0,0,0,131,6],[6,1,0,1,0,1,1,1,1,1,1,1,6],[6,1,0,1,0,1,131,0,0,0,131,89,6],[6,1,0,1,131,0,0,1,1,1,0,1,6],[6,1,0,1,1,1,1,1,131,0,131,1,6],[6,1,128,1,1,1,88,1,0,1,1,1,6],[6,1,131,128,0,0,0,1,131,0,0,131,6],[6,1,1,1,1,1,1,1,1,1,1,0,6],[6,87,84,131,0,0,0,0,0,0,0,131,6],[6,6,6,6,6,6,6,6,6,6,6,6,6]],[[6,6,6,6,6,6,6,6,6,6,6,6,6],[6,1,1,1,126,0,87,0,131,1,1,1,6],[6,1,1,1,1,19,1,19,1,1,1,1,6],[6,1,1,1,126,0,19,0,131,1,1,1,6],[6,126,1,126,1,128,1,128,1,131,1,131,6],[6,0,15,0,128,0,0,0,128,0,15,0,6],[6,15,1,15,1,0,54,0,1,15,1,15,6],[6,0,15,0,128,0,0,0,128,0,15,0,6],[6,131,1,131,1,128,1,128,1,127,1,127,6],[6,0,0,0,131,0,17,0,127,1,1,1,6],[6,0,1,0,1,17,1,17,1,1,1,1,6],[6,88,0,0,131,0,17,0,127,1,1,1,6],[6,6,6,6,6,6,6,6,6,6,6,6,6]],[[6,6,6,6,6,6,6,6,6,6,6,6,6],[6,128,0,12,12,0,88,0,18,18,0,141,6],[6,0,6,6,6,6,6,6,6,6,6,0,6],[6,19,6,4,4,4,4,4,4,4,6,11,6],[6,19,6,4,4,4,4,4,4,4,6,11,6],[6,0,6,4,4,4,4,4,4,4,6,0,6],[6,131,6,4,4,4,4,4,4,4,6,131,6],[6,0,6,4,4,4,4,4,4,4,6,0,6],[6,11,6,4,4,4,4,4,4,4,6,19,6],[6,11,6,4,4,4,4,4,4,4,6,19,6],[6,0,6,6,6,6,6,6,6,6,6,0,6],[6,141,0,18,18,0,89,0,12,12,0,128,6],[6,6,6,6,6,6,6,6,6,6,6,6,6]],[[4,4,4,4,4,4,4,4,4,4,4,4,4],[4,4,4,4,4,4,4,4,4,4,4,4,4],[4,4,6,6,6,6,6,6,6,6,6,4,4],[4,4,6,0,0,0,0,0,0,0,6,4,4],[4,4,6,0,0,0,0,0,0,0,6,4,4],[4,4,6,0,0,131,131,131,0,0,6,4,4],[4,4,6,0,0,131,144,131,0,0,6,4,4],[4,4,6,0,0,131,131,131,0,0,6,4,4],[4,4,6,0,0,0,0,0,0,0,6,4,4],[4,4,6,0,0,0,0,0,0,0,6,4,4],[4,4,6,6,6,6,6,6,6,6,6,4,4],[4,4,4,4,4,4,4,4,4,4,4,4,4],[4,4,4,4,4,4,4,4,4,4,4,4,4]],[[4,4,4,4,4,4,4,4,4,4,4,4,4],[4,4,4,4,4,4,4,4,4,4,4,4,4],[4,4,2,2,2,2,2,2,2,2,2,4,4],[4,4,2,11,2,43,0,30,2,12,2,4,4],[4,4,2,11,2,2,81,2,2,12,2,4,4],[4,4,2,11,81,0,0,0,81,12,2,4,4],[4,4,2,11,2,0,0,0,2,12,2,4,4],[4,4,2,11,2,0,142,0,2,12,2,4,4],[4,4,2,2,2,2,83,2,2,2,2,4,4],[4,4,2,0,0,0,0,0,0,89,2,4,4],[4,4,2,2,2,2,2,2,2,2,2,4,4],[4,4,4,4,4,4,4,4,4,4,4,4,4],[4,4,4,4,4,4,4,4,4,4,4,4,4]]];this.maps=[];for(var h=0;h<l.length;h++){var m="MT"+h;var b=l[h];var k={};k.floorId=m;k.name=h;k.title="主塔 "+h+" 层";if(h==21){k.name="17";k.title="隐藏层"}k.canFlyTo=true;if(h==0||h==14||h==20||h==21){k.canFlyTo=false}var a=[];for(var g=0;g<13;g++){for(var e=0;e<13;e++){var c=b[g][e];var d=this.getBlock(m,h,e,g,c);if(d!=null){a.push(d)}}}k.blocks=a;this.maps[m]=k}};maps.prototype.getBlock=function(j,d,i,g,a){var c={x:i,y:g,id:a};if(a==0){if(j=="MT16"&&i==6&&g==2){c.event={cls:"terrains",id:"ground",noPass:false,trigger:"blockEvent"}}}if(a==1){c.event={cls:"terrains",id:"yellowWall"}}if(a==2){c.event={cls:"terrains",id:"blueWall"}}if(a==3){c.event={cls:"animates",id:"lava",animate:4,noPass:true}}if(a==4){c.event={cls:"animates",id:"star",animate:4,noPass:true}}if(a==6){c.event={cls:"terrains",id:"whiteWall"}}if(a==7){c.event={cls:"animates",id:"lavaNet",animate:4,noPass:false,trigger:"passNet"}}if(a==11){c.event={cls:"items",id:"redJewel",trigger:"getItem"}}if(a==12){c.event={cls:"items",id:"blueJewel",trigger:"getItem"}}if(a==13){c.event={cls:"items",id:"greenJewel",trigger:"getItem"}}if(a==14){c.event={cls:"items",id:"yellowJewel",trigger:"getItem"}}if(a==15){c.event={cls:"items",id:"yellowKey",trigger:"getItem"}}if(a==16){c.event={cls:"items",id:"blueKey",trigger:"getItem"}}if(a==17){c.event={cls:"items",id:"redKey",trigger:"getItem"}}if(a==18){c.event={cls:"items",id:"redPotion",trigger:"getItem"}}if(a==19){c.event={cls:"items",id:"bluePotion",trigger:"getItem"}}if(a==20){c.event={cls:"items",id:"yellowPotion",trigger:"getItem"}}if(a==21){c.event={cls:"items",id:"greenPotion",trigger:"getItem"}}if(a==22){c.event={cls:"items",id:"sword1",trigger:"getItem"}}if(a==23){c.event={cls:"items",id:"shield1",trigger:"getItem"}}if(a==24){c.event={cls:"items",id:"sword2",trigger:"getItem"}}if(a==25){c.event={cls:"items",id:"shield2",trigger:"getItem"}}if(a==26){c.event={cls:"items",id:"sword3",trigger:"getItem"}}if(a==27){c.event={cls:"items",id:"shield3",trigger:"getItem"}}if(a==28){c.event={cls:"items",id:"sword4",trigger:"getItem"}}if(a==29){c.event={cls:"items",id:"shield4",trigger:"getItem"}}if(a==30){c.event={cls:"items",id:"sword5",trigger:"getItem"}}if(a==31){c.event={cls:"items",id:"shield5",trigger:"getItem"}}if(a==32){c.event={cls:"items",id:"book",trigger:"getItem"}}if(a==33){c.event={cls:"items",id:"fly",trigger:"getItem"}}if(a==34){c.event={cls:"items",id:"pickaxe",trigger:"getItem"}}if(a==35){c.event={cls:"items",id:"bomb",trigger:"getItem"}}if(a==36){c.event={cls:"items",id:"centerFly",trigger:"getItem"}}if(a==37){c.event={cls:"items",id:"upFly",trigger:"getItem"}}if(a==38){c.event={cls:"items",id:"downFly",trigger:"getItem"}}if(a==39){c.event={cls:"items",id:"icePickaxe",trigger:"getItem"}}if(a==40){c.event={cls:"items",id:"coin",trigger:"getItem"}}if(a==41){c.event={cls:"items",id:"snow",trigger:"getItem"}}if(a==42){c.event={cls:"items",id:"cross",trigger:"getItem"}}if(a==43){c.event={cls:"items",id:"superPotion",trigger:"getItem"}}if(a==44){c.event={cls:"items",id:"greenKey",trigger:"getItem"}}if(a==45){c.event={cls:"items",id:"steelKey",trigger:"getItem"}}if(a==46){c.event={cls:"items",id:"bigKey",trigger:"getItem"}}if(a==47){c.event={cls:"items",id:"earthquake",trigger:"getItem"}}if(a==51){c.event={cls:"npcs",id:"magician",trigger:"visitNpc",npcid:"npc1"}}if(a==52){c.event={cls:"npcs",id:"magician",trigger:"visitNpc",npcid:"npc2"}}if(a==53){c.event={cls:"npcs",id:"womanMagician",trigger:"visitNpc",npcid:"npc3"}}if(a==54){c.event={cls:"npcs",id:"womanMagician",trigger:"visitNpc",npcid:"npc4"}}if(a==71){c.event={cls:"npcs",id:"blueShop",trigger:"openShop",shopid:"shop1"}}if(a==72){c.event={cls:"npcs",id:"redShop",trigger:"openShop",shopid:"shop2"}}if(a==73){c.event={cls:"npcs",id:"womanMagician",trigger:"openShop",shopid:"shop3"}}if(a==74){c.event={cls:"npcs",id:"blueShop",trigger:"openShop",shopid:"shop4"}}if(a==75){c.event={cls:"npcs",id:"redShop",trigger:"openShop",shopid:"shop5"}}if(a==81){c.event={cls:"terrains",id:"yellowDoor",trigger:"openDoor"}}if(a==82){c.event={cls:"terrains",id:"blueDoor",trigger:"openDoor"}}if(a==83){c.event={cls:"terrains",id:"redDoor",trigger:"openDoor"}}if(a==84){c.event={cls:"terrains",id:"greenDoor",trigger:"openDoor"}}if(a==85){c.event={cls:"terrains",id:"specialDoor",trigger:"openDoor"}}if(a==86){c.event={cls:"terrains",id:"steelDoor",trigger:"openDoor"}}if(a==87){var b=d+1;if(d==13){b=15}c.event={cls:"terrains",id:"upFloor",trigger:"changeFloor",noPass:false,data:{floorId:"MT"+b,stair:"downFloor"},noTriggerCross:true}}if(a==88){var b=d-1;if(d==15){b=13}c.event={cls:"terrains",id:"downFloor",trigger:"changeFloor",noPass:false,data:{floorId:"MT"+b,stair:"upFloor"},noTriggerCross:true}}if(a==89){var b=0,h=0,e=0;if(j=="MT17"){b=21;h=9;e=9}else{if(j=="MT21"){b=17;h=11;e=5}else{if(j=="MT19"){b=20;h=6;e=9}}}c.event={cls:"animates",id:"portal",trigger:"changeFloor",noPass:false,animate:4,data:{floorId:"MT"+b,heroLoc:{direction:"up",x:h,y:e}}}}if(a==101){c.event={cls:"enemys",id:"greenSlime",trigger:"battle"}}if(a==102){c.event={cls:"enemys",id:"redSlime",trigger:"battle"}}if(a==103){c.event={cls:"enemys",id:"blackSlime",trigger:"battle"}}if(a==104){c.event={cls:"enemys",id:"slimelord",trigger:"battle"}}if(a==105){c.event={cls:"enemys",id:"bat",trigger:"battle"}}if(a==106){c.event={cls:"enemys",id:"bigBat",trigger:"battle"}}if(a==107){c.event={cls:"enemys",id:"redBat",trigger:"battle"}}if(a==108){c.event={cls:"enemys",id:"vampire",trigger:"battle"}}if(a==109){c.event={cls:"enemys",id:"bluePriest",trigger:"battle"}}if(a==110){c.event={cls:"enemys",id:"redPriest",trigger:"battle"}}if(a==111){c.event={cls:"enemys",id:"brownWizard",trigger:"battle"}}if(a==112){c.event={cls:"enemys",id:"redWizard",trigger:"battle"}}if(a==113){c.event={cls:"enemys",id:"skeleton",trigger:"battle"}}if(a==114){c.event={cls:"enemys",id:"skeletonSoilder",trigger:"battle"}}if(a==115){c.event={cls:"enemys",id:"skeletonCaptain",trigger:"battle"}}if(a==116){c.event={cls:"enemys",id:"ghostSkeleton",trigger:"battle"}}if(a==117){c.event={cls:"enemys",id:"zombie",trigger:"battle"}}if(a==118){c.event={cls:"enemys",id:"zombieKnight",trigger:"battle"}}if(a==119){c.event={cls:"enemys",id:"rock",trigger:"battle"}}if(a==120){c.event={cls:"enemys",id:"slimeMan",trigger:"battle"}}if(a==121){c.event={cls:"enemys",id:"yellowGuard",trigger:"battle"}}if(a==122){c.event={cls:"enemys",id:"blueGuard",trigger:"battle"}}if(a==123){c.event={cls:"enemys",id:"redGuard",trigger:"battle"}}if(a==124){c.event={cls:"enemys",id:"swordsman",trigger:"battle"}}if(a==125){c.event={cls:"enemys",id:"soldier",trigger:"battle"}}if(a==126){c.event={cls:"enemys",id:"yellowKnight",trigger:"battle"}}if(a==127){c.event={cls:"enemys",id:"redKnight",trigger:"battle"}}if(a==128){c.event={cls:"enemys",id:"darkKnight",trigger:"battle"}}if(a==129){c.event={cls:"enemys",id:"redKing",trigger:"battle"}}if(a==130){c.event={cls:"enemys",id:"whiteKing",trigger:"battle"}}if(a==131){c.event={cls:"enemys",id:"blackMagician",trigger:"battle"}}if(a==132){c.event={cls:"enemys",id:"silverSlime",trigger:"battle"}}if(a==133){c.event={cls:"enemys",id:"poisonSkeleton",trigger:"battle"}}if(a==134){c.event={cls:"enemys",id:"poisonBat",trigger:"battle"}}if(a==135){c.event={cls:"enemys",id:"steelRock",trigger:"battle"}}if(a==136){c.event={cls:"enemys",id:"poisonZombie",trigger:"battle"}}if(a==137){c.event={cls:"enemys",id:"blackKing",trigger:"battle"}}if(a==138){c.event={cls:"enemys",id:"yellowKing",trigger:"battle"}}if(a==139){c.event={cls:"enemys",id:"greenKing",trigger:"battle"}}if(a==140){c.event={cls:"enemys",id:"blueKnight",trigger:"battle"}}if(a==141){c.event={cls:"enemys",id:"greenKnight",trigger:"battle"}}if(a==142){c.event={cls:"enemys",id:"magicDragon",trigger:"battle"}}if(a==143){c.event={cls:"enemys",id:"octopus",trigger:"battle"}}if(a==144){c.event={cls:"enemys",id:"fairy",trigger:"battle"}}if(a==145){c.event={cls:"enemys",id:"whiteGhost",trigger:"battle"}}if(a==146){c.event={cls:"enemys",id:"blueKnight",trigger:"battle"}}if(a==147){c.event={cls:"enemys",id:"blueKnight",trigger:"battle"}}if(a==148){c.event={cls:"enemys",id:"blueKnight",trigger:"battle"}}if(a==149){c.event={cls:"enemys",id:"blueKnight",trigger:"battle"}}if(a==150){c.event={cls:"enemys",id:"blueKnight",trigger:"battle"}}if(a==151){c.event={cls:"enemys",id:"blueKnight",trigger:"battle"}}if(a==152){c.event={cls:"enemys",id:"blueKnight",trigger:"battle"}}if(a==153){c.event={cls:"enemys",id:"blueKnight",trigger:"battle"}}if(a==154){c.event={cls:"enemys",id:"blueKnight",trigger:"battle"}}if(c.event==undefined){return null}return c};maps.prototype.getMaps=function(a){if(a==undefined){return this.updateNoPass(this.maps)}return this.maps[a]};maps.prototype.updateNoPass=function(c){if(c.floorId==undefined){for(var a in c){this.updateNoPass(c[a])}return c}var b=c.blocks;b.forEach(function(d){if(d.event==undefined){return}if(d.event.noPass==undefined){if(d.event.cls=="enemys"||d.event.cls=="terrains"||d.event.cls=="npcs"){d.event.noPass=true}}if(d.event.animate==undefined){if(d.event.cls=="enemys"||d.event.cls=="npcs"){d.event.animate=2}}});return c};maps.prototype.save=function(e,h){if(h==undefined||h==null){var b=[];for(var c in e){b.push(this.save(e,c))}return b}var i=e[h];var d={};d.floorId=i.floorId;d.name=i.name;d.title=i.title;d.canFlyTo=i.canFlyTo;var a=[];for(var g=0;g<13;g++){a[g]=[];for(var f=0;f<13;f++){a[g].push(0)}}i.blocks.forEach(function(j){a[j.x][j.y]=j.id});d.blocks=a;return d};maps.prototype.load=function(f,l){if(l==undefined){var b=[];for(var c in f){b[f[c].floorId]=this.load(f,f[c].floorId)}return b}var k=null;for(var c in f){if(f[c].floorId==l){k=f[c];break}}if(k==null){return{}}var h={};h.floorId=k.floorId;h.name=k.name;h.title=k.title;h.canFlyTo=k.canFlyTo;var a=[];for(var g=0;g<13;g++){for(var e=0;e<13;e++){var c=k.blocks[g][e];var d=this.getBlock(k.floorId,k.name,g,e,c);if(d!=null){a.push(d)}}}h.blocks=a;return this.updateNoPass(h)};main.instance.maps=new maps();